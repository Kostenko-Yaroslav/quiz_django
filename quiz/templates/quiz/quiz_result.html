{% extends 'base.html' %}

{% block title %}–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É | QuizMaster{% endblock %}

{% block main %}

<div class="container" style="max-width: 800px;">

    <article style="text-align: center;">
        <header>
            <small style="color: var(--pico-muted-color);">–ó–≤—ñ—Ç –ø—Ä–æ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è</small>
            <h2 style="margin-bottom: 0;">{{ level.name }}</h2>
        </header>

        <div class="grid">
            <div>
                <h1 style="font-size: 4rem; margin-bottom: 0;
                    {% if percent >= 80 %}color: var(--pico-ins-color);
                    {% elif percent >= 50 %}color: #e6a23c;
                    {% else %}color: var(--pico-del-color);{% endif %}">
                    {{ percent }}%
                </h1>
                <p>–ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç</p>
            </div>

            <div style="display: flex; flex-direction: column; justify-content: center;">
                <p><strong>‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ:</strong> {{ correct }}</p>

            </div>
        </div>

        <footer style="margin-top: 2rem;">
            {% if percent == 100 %}
                <h3>üèÜ Code Ninja!</h3>
                <p>–Ü–¥–µ–∞–ª—å–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –í–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –æ–ø–∞–Ω—É–≤–∞–ª–∏ —Ü—é —Ç–µ–º—É.</p>
            {% elif percent >= 70 %}
                <h3>üòé –ß—É–¥–æ–≤–∞ —Ä–æ–±–æ—Ç–∞</h3>
                <p>–•–æ—Ä–æ—à–∏–π —Ä—ñ–≤–µ–Ω—å –∑–Ω–∞–Ω—å, –∞–ª–µ —î –∫—É–¥–∏ —Ä–æ—Å—Ç–∏.</p>
            {% else %}
                <h3>üìö –¢—Ä–µ–±–∞ –ø–æ–≤—á–∏—Ç–∏—Å—è</h3>
                <p>–†–µ–∫–æ–º–µ–Ω–¥—É—î–º–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç–∏ –º–∞—Ç–µ—Ä—ñ–∞–ª —ñ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ —â–µ —Ä–∞–∑.</p>
            {% endif %}

            <div class="grid">
                <a href="{% url 'quiz:quiz_list' %}" role="button" class="secondary outline">–î–æ —Å–ø–∏—Å–∫—É —Ç–µ—Å—Ç—ñ–≤</a>
            </div>
        </footer>
    </article>

    <details open>
        <summary role="button" class="contrast outline">–ü–æ–∫–∞–∑–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ</summary>

        <article>
            <table class="striped">
                <thead>
                    <tr>
                        <th>–ü–∏—Ç–∞–Ω–Ω—è</th>
                        <th>–í–∞—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å</th>
                        <th>–°—Ç–∞—Ç—É—Å</th>
                    </tr>
                </thead>
                <tbody>
                    {% for res in results %}
                        <tr>
                            <td>{{ res.question }}</td>

                            <td>
                                {{ res.answer }}
                                {% if not res.answer.is_correct %}
                                    <br><small style="color: var(--pico-del-color);">(–í–∏ –ø–æ–º–∏–ª–∏–ª–∏—Å—è)</small>
                                {% endif %}
                            </td>

                            <td style="text-align: center; font-size: 1.5rem;">
                                {% if res.answer.is_correct %}
                                    <span style="color: var(--pico-ins-color);" data-tooltip="–ü—Ä–∞–≤–∏–ª—å–Ω–æ">‚úÖ</span>
                                {% else %}
                                    <span style="color: var(--pico-del-color);" data-tooltip="–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ">‚ùå</span>
                                {% endif %}
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </article>
    </details>

</div>

{% endblock %}